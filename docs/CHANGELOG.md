# История изменений (Changelog)

Формат основан на «Keep a Changelog», версии — SemVer.

## [Unreleased]
- Добавлена защита единственного экземпляра (Windows Mutex), флаг `--allow-multiple` для отладки.
- Ускорены аккорды модификаторов (Ctrl/Shift/Alt/Win + X): первый DOWN не задерживается пост‑UP фильтром; флаг `--no-chord-bypass` для отката.
- Ubuntu/WSL: скрипт `scripts/setup_ubuntu.sh` (Python 3.11, venv, deps), гайд `docs/UBUNTU_SETUP.md`.
- Тесты и dev‑зависимости: `requirements-dev.txt`, базовый `tests/test_debouncer.py`.
- Аналитика логов: `scripts/tail_log.sh` (просмотр) и `scripts/analyze_log.py` (сводка `BLOCK_*`).
- Документация обновлена: README (ключевые возможности, конфигурация), ссылки на `AGENTS.md` и `docs/ONLINE_DEV.md`.
- Инициализирована структура документации: README, DEVELOPMENT, CONTRIBUTING, ARCHITECTURE, CHANGELOG.
- Улучшен авто‑повтор: добавлен допуск джиттера (`--repeat-jitter`), исправлено удерживание Backspace.
- По умолчанию Backspace (VK=8) не ограничивается по интервалу после старта автоповтора — скорость удаления соответствует системной. Можно изменить через `--no-rate-limit-vks`.
- Трей‑иконка: переработан рендер (градиент, скруглённые клавиши), динамический пульс активности (синий — повторы, красный — блокировки, жёлтый — ранние UP). Лёгкий фоновой апдейтер.
- Добавлены темы трея (Светлая/Тёмная), выбор сохраняется в `%APPDATA%/bw3_chatter_prefs.json`.
- Добавлен маленький счётчик блокировок за ~60 секунд на иконке.
- Исправлено «залипание» клавиш: больше не блокируем событий KEYUP; вместо этого отмечаем ранние UP как возможный дребезг и усиливаем защитные окна.
- Исключены коллизии сканкодов: идентификатор клавиши теперь учитывает флаг `extended` (scanCode:e0), добавлен обратный поиск порога в конфиге по старому ключу для совместимости.
