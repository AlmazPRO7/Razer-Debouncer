# Конфигурация (CONFIG)

Файл конфигурации хранит индивидуальные пороги дребезга для клавиш и некоторые пользовательские предпочтения.

## Пути и назначение
- `%APPDATA%/bw3_chatter_cfg.json` — пороги дребезга per‑key (секунды, float).
- `%APPDATA%/bw3_chatter_prefs.json` — предпочтения пользователя (например, тема трея).

## Формат `bw3_chatter_cfg.json`
- Ключ: строка вида `"<scanCode>[:<extended>]"`.
- Пример: `"30:0"` для обычной клавиши, `"53:1"` для расширенной (E0) клавиши.
- Значение: число в секундах (float), интервал дребезга для конкретной клавиши.

Пример:
```
{
  "30": 0.095,
  "30:1": 0.110,
  "14": 0.080
}
```

Совместимость: если ключ с `:extended` отсутствует, используется базовый ключ `"<scanCode>"`.

## Как меняется конфиг
- Адаптация выполняется автоматически: при частых блокировках конкретной клавиши её порог увеличивается ступенями до предельного значения.
- Запись в файл выполняется с задержкой (батчинг), чтобы не нагружать диск.

## Ручное редактирование
- Закройте приложение перед правкой файла, чтобы избежать перезаписи.
- Редактируйте значения аккуратно; увеличивайте по 0.005–0.015 секунды на проблемные клавиши.
- Храните валидный JSON (UTF‑8, переносы строк не критичны).

## Сброс настроек
- Остановите приложение и удалите файлы:
  - `%APPDATA%/bw3_chatter_cfg.json`
  - `%APPDATA%/bw3_chatter_prefs.json`
- При следующем запуске будут применены значения по умолчанию.

