# BW3‑Debounce  
Программный «анти‑дребезг» и фильтр ложных повторов для **Razer Black Widow V3 Mini / другие USB‑клавиатуры** под Windows 10‑11.  
Работает на уровне системного *Low‑Level Hook* (`WH_KEYBOARD_LL`), **блокирует**:

* аппаратный дребезг контактов (5 – 50 мс)  
* «фантомные» нажатия контроллера (60 – 120 мс)  
* авто‑повтор без события `UP`

При этом удержание клавиши по‑прежнему даёт нормальный системный авто‑повтор (задержка ≥ 250 мс).

---

## Фичи
| ✔            | Детали |
|--------------|--------|
| **Порог по‑умолчанию 100 мс** | можно изменить флагом `--ms` |
| **Адаптивный per‑key debounce** | порог растёт, если дребезг продолжается |
| **Фильтр “DOWN без UP”** | сразу блокирует «залипающие» повторы |
| **Калибратор в системном трее** | медиана 20 нажатий записывается в JSON |
| **Лог‑файл с ротацией** | `%APPDATA%\bw3_chatter.log` |
| **Запуск one‑file EXE** | собирается PyInstaller (`--onefile --noconsole`) |
| **Автозапуск через реестр** | автоматически при первом старте (отключаем `--no-startup`) |
| **Совместимо с Python 3.11+ x64** | без C‑расширений, только ctypes |

---

## Быстрая установка (Windows 10 / 11 ×64)

```powershell
# 1. Python 3.11+ x64 (обязательно «Add Python to PATH»)
# 2. С клонированного/скачанного репо:
cd BW3-Debounce
pip install -r requirements.txt      # pystray pillow keyboard
python bw3_debounce.py --debug       # первый тест
